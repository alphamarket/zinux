{"name":"Zinux","tagline":"A simple and lightweight but powerful library supporting MVC design pattern  ","body":"In this project i have tried to make it uses so simple.\r\nThe <i>zinux</i>'s policy is [Convention Over Configuration](http://en.wikipedia.org/wiki/Convention_over_configuration)\r\nwhich leads it to run minimal configuration and much more flexibility, \r\nyou will find it very convenient to use and develop.\r\nThere is also a [demo](#demo-project) available.\r\n\r\n> <b>Note:</b> Project is under development!\r\n\r\nTopics\r\n--\r\n* [Directory Structure](#directory-structure)\r\n* [Quick Setup](#quick_setup)\r\n* [MVC Entities](#mvc-entities)\r\n* [Autoloading Classes and Files](#autoloading-classes-and-files)\r\n* [Naming Conventsion](#naming-conventsion)\r\n* [Path Resolver](#path-resolver)\r\n* [Bootstraping](#bootstraping)\r\n\t* [General Definition of How To Boostrap](#general-definition-of-how-to-boostrap)\r\n\t* [Application Bootstraps](#application-bootstraps)\r\n\t\t* [Registering Application Bootstrap](#registering-application-bootstrap)\r\n\t* [Modules Bootstrap](#modules-bootstrap)\r\n\t\t* [Module Bootstrap Example](#module-bootstrap-example)\r\n* [Working With MVC Entities (Basics)](#working-with-mvc-entities-basics)\r\n  * [Passing Variables To View](#passing-variables-to-view)\r\n  * [Passing Variables To Layout](#passing-variables-to-layout)  \r\n  * [Changing View](#changing-view)\r\n  * [Changing Layout](#changing-layout)\r\n  * [Loading Models](#loading-models)\r\n  * [Loading Helpers](#loading-helpers)\r\n  * [A Controller Example](#a-controller-example)\r\n* [Adavnced](#adavnced)\r\n  * [Custom Routing](#custom-routing) \r\n  \t\t* [How To Register Routers](#how-to-register-routers) \r\n  * [Binding Custom Configuration File to Application](#binding-custom-configuration-file-to-application)\r\n  * [Binding Database Handler To Application](#binding-database-handler-to-application)\r\n  * [Adding Plugins](#adding-plugins)\r\n* [Tips](#tips)\r\n* [Demo Project](#demo-project)\r\n\r\n\r\n\r\nDirectory Structure\r\n--\r\nCreate project directory structure as follow<br />\r\n<pre>\r\n  PROJECT-ROOT\r\n    |_ Modules\r\n        |_ SomeModule\r\n            |_ Controllers\r\n            |_ Models\r\n            |_ Views\r\n                |_ Layout\r\n                |_ Helper\r\n                |_ View\r\n                \r\n    |_ zinux (the library)\r\n    |_ public_html\r\n    |_ *\r\n    .\r\n    .\r\n    .\r\n</pre>\r\n\r\n\r\nQuick Setup\r\n----\r\nConsidering above directory structure; in your <b>PROJECT-ROOT/public_html/index.php</b> file add following codes\r\n\r\n```php\r\n<?php    \r\n    # PROJECT-ROOT/public_html/index.php\r\n    \r\n    defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"DEVELOPMENT\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"PRODUCTION\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"TEST\");\r\n    \r\n    require_once '../zinux/baseZinux.php';\r\n    \r\n    $app = new \\zinux\\kernel\\application\\application(\"PROJECT-ROOT/mOdUlEs\");\r\n    \r\n    $app ->Startup()\r\n         ->Run()\r\n         ->Shutdown();\r\n         \r\n```\r\n\r\nand also create a <b><i>.htaccess</i></b> in the same directory as your <b>index.php</b> is and add \r\nfollowing code route requestes to index.php.\r\n\r\n```\r\n# PROJECT-ROOT/public_html/.htaccess\r\n\r\nRewriteEngine On\r\nRewriteCond $1 !\\.(gif|jpe?g|png|ico|js)$ [NC]\r\nRewriteCond %{REQUEST_FILENAME} !-f\r\nRewriteRule ^(.+)$ /index.php/$1\r\n```\r\n\r\n<b>Congratulations!</b> you now have fully MVC magic under <b>PROJECT-ROOT/Modules</b>!!\r\n\r\n> You may wondering why the folder's name passed to `\\zinux\\kernel\\application\\application`<br />\r\nby considering case sensitivity, does not match with `PROJECT-ROOT/Modules`!?<br />\r\nSee [Path Resolver](#path-resolver).\r\n\r\n<hr />\r\n\r\n> Simple, isn't it!?\r\n\r\nMVC Entities\r\n---\r\nThere are several entities defined in <i>zenux</i> framework:\r\n\r\n* Modules\r\n* Controllers\r\n* Actions\r\n* Models\r\n* Layout\r\n* Views\r\n* Helpers\r\n\r\nSee [naming convention](#naming-conventsion) for MVC Entities\r\n\r\n\r\n\r\nAutoloading Classes and Files\r\n---\r\n<i>zinux</i> uses [PSR-0 Standard](http://www.sitepoint.com/autoloading-and-the-psr-0-standard/) \r\nnamespace conventions to load [MVC Entities](#mvc-entities). so as long as [MVC Entities](#mvc-entities) follow \r\n[PSR-0 Standard](http://www.sitepoint.com/autoloading-and-the-psr-0-standard/) \r\nthe <i>zinux</i>'s autoloader may be able to load those classes and beside `require_once '../zinux/baseZinux.php'` \r\nno `require` needed for loading classes!  \r\n\r\n> <b>Note:</b> classes and relative files should have same name. [not necessarily case-sensitive] \r\n\r\n\r\n\r\nNaming Conventsion\r\n---\r\nMVC entities naming convension is as following table:\r\n\r\n<table style='width:100%'>\r\n  <tr>\r\n    <th>Entity</th>\r\n    <th>Pattern</th>\r\n    <th>File's Extention</th>\r\n    <th>Example</th>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Modules\r\n    </td>\r\n    <td>\r\n      [module_name]Module\r\n    </td>\r\n    <td>\r\n      [FOLDER]\r\n    </td>\r\n    <td>\r\n      <ul>\r\n        <li>DefaultModule</li>\r\n        <li>UserModule</li>\r\n        <li>AuthModule</li>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Controllers\r\n    </td>\r\n    <td>\r\n      [controller_name]Controller\r\n    </td>\r\n    <td>\r\n      .php\r\n    </td>\r\n    <td>\r\n      <ul>\r\n        <li>IndexController</li>\r\n        <li>UserController</li>\r\n        <li>AuthController</li>\r\n      </ul>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Actions\r\n    </td>\r\n    <td>\r\n      [model_name]Action\r\n    </td>\r\n    <td>\r\n      [Method]\r\n    </td>\r\n    <td>\r\n      <ul>\r\n        <li>LoginAction</li>\r\n        <li>FeedAction</li>\r\n        <li>LogoutAction</li>\r\n      </ul>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Models\r\n    </td>\r\n    <td>\r\n      [model_name]Model\r\n    </td>\r\n    <td>\r\n      .php\r\n    </td>\r\n    <td>\r\n      <ul>\r\n        <li>UserModel</li>\r\n        <li>FooModel</li>\r\n        <li>CommentModel</li>\r\n      </ul>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Layouts\r\n    </td>\r\n    <td>\r\n      [layout_name]Layout\r\n    </td>\r\n    <td>\r\n      .phtml\r\n    </td>\r\n    <td>\r\n      <ul>\r\n        <li>DefaultLayout</li>\r\n        <li>LoginLayout</li>\r\n        <li>PrintLayout</li>\r\n      </ul>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Views\r\n    </td>\r\n    <td>\r\n      [view_name]View\r\n    </td>\r\n    <td>\r\n      .phtml\r\n    </td>\r\n    <td>\r\n      <ul>\r\n        <li>IndexView</li>\r\n        <li>LoginView</li>\r\n        <li>AwesomeView</li>\r\n      </ul>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Helpers <b>*</b>\r\n    </td>\r\n    <td>\r\n      [helper_name]Helper\r\n    </td>\r\n    <td>\r\n      .php\r\n    </td>\r\n    <td>\r\n      <ul>\r\n        <li>LanguagesHelper</li>\r\n        <li>CoolHelper</li>\r\n        <li>MyHelper</li>\r\n      </ul>\r\n    </td>\r\n  </tr>\r\n</table>\r\n\r\n<b>* Note:</b> Helpers can either be class files or function files, see [Loading Helpers](#loading-helpers)\r\n\r\n\r\n\r\nPath Resolver\r\n---\r\nIn UNIX style OS(e.g Linux) which the directory mapping is case-sensitive so sometimes it gets hard when we developing \r\nlarge scale projects and keeping in mind that every file and folder should named as library's defined standard naming\r\n(i.e you cannot miss-case a letter in your namings) <b>it sucks!!</b><br />\r\nSo i have developed a very fast and effective <b>path solver</b> which empower the library with non-case sensitive files and folders\r\nnaming style!<br /><br />\r\n\r\n\r\n> <b>Note:</b> The path solver class is as fast as `file_exist()` operation which is inevitable when loading items!\r\nit uses custom made cache system which is very very fast and effective and makes path solver very smooth!\r\nso you don't need to worry about runtime factors, when it comes to path resolver! \r\n\r\nBootstraping\r\n---\r\nGeneral Definition of How To Boostrap\r\n---\r\n<dl>\r\n   <dt>Pre-strap</dt>\r\n   <dd>\r\n      Every public method in bootstrap file which has a prefix '<b>pre_</b>' gets called in pre-strap phase.\r\n   </dd>\r\n   <dt>Post-strap</dt>\r\n   <dd>\r\n      Every public method in bootstrap file which has a prefix '<b>post_</b>' gets called in post-strap phase.\r\n   </dd>\r\n</dl>\r\n\r\n\r\nApplication Bootstraps\r\n---\r\n<i>zinux</i> uses bootstrap files(if any defined) to bootstrap the project, project boostraping has 2 stages:\r\n<dl>\r\n  <dt>pre-straps</dt>\r\n  <dd>\r\n    <b>Before</b> executing any operation regaurding to application, <i>zinux</i> launches <b>pre-straps</b>  \r\n    methods, of course if any defined.(See [bellow](#registering-application-bootstrap) for how to definition pre-straps.)\r\n  <dd>\r\n  <dt>post-straps</dt>\r\n  <dd>\r\n    <b>After</b> executing the application, <i>zinux</i> launches <b>post-straps</b>  \r\n    methods, of course if any defined.(See bellow for how to definition post-straps.)\r\n  <dd>\r\n</dl>\r\n\r\nApplication's bootstrap files can be located and addressed to anywhere under <b>PROJECT-ROOT</b>, <b>I suggest</b> put your application's boostrap files\r\nin following directory path\r\n\r\n<pre>\r\n  PROJECT-ROOT\r\n    |_ application\r\n       |_ SomeAppBootstrap.php\r\n       |_ AnotherAppBoostrap.php\r\n       \r\n    |_ Modules\r\n    |_ zinux (the library)\r\n    |_ public_html\r\n    |_ *\r\n    .\r\n    .\r\n    .\r\n</pre>\r\n\r\n> <b>Note:</b> <i>zinux</i> supports multiple application boostrap files.\r\n\r\nRegistering Application Bootstrap\r\n---\r\nAssume we have boostrap class called <b>appBoostrap</b> under <b>PROJECT-ROOT/application</b> directory as follow:\r\n```PHP\r\n<?php\r\n    # PROJECT-ROOT/application/appBoostrap.php\r\n    namespace application;\r\n    \r\n    class appBoostrap extends \\zinux\\kernel\\application\\applicationBootstrap\r\n    {\r\n        public function PRE_CHECK(\\zinux\\kernel\\routing\\request &$request)\r\n        {\r\n            /**\r\n             * this is a pre-strap function use this on pre-bootstrap opt.\r\n             * @param \\zinux\\kernel\\routing\\request $request \r\n             */\r\n        }\r\n        \r\n        public function post_FOO(\\zinux\\kernel\\routing\\request $request)\r\n        {\r\n            /**\r\n             * this is a post-strap function use this on post-bootstrap opt.\r\n             * @param \\zinux\\kernel\\routing\\request $request \r\n             */\r\n        }\r\n    }\r\n```\r\n> <b>Note:</b> Application bootsrap classes should inherit from `\\zinux\\kernel\\application\\applicationBootstrap`. \r\n\r\nBy overwriting the index file introduced in [How To Use](#how-to-use) as follow:\r\n\r\n```php\r\n<?php    \r\n    # PROJECT-ROOT/public_html/index.php\r\n    \r\n    defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"DEVELOPMENT\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"PRODUCTION\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"TEST\");\r\n    \r\n    require_once '../zinux/baseZinux.php';\r\n    \r\n    $app = new \\zinux\\kernel\\application\\application(\"PROJECT-ROOT/mOdUlEs\");\r\n    \r\n    $app ->Startup()\r\n         /*\r\n         * This part is added to previous\r\n         * version of index.php\r\n         */\r\n         ->SetBootstrap(new \\application\\appBootstrap)\r\n         ->Run()\r\n         ->Shutdown();\r\n         \r\n```\r\nNow your <b>appBootstrap</b> is registered in <i>zinux</i> and will get called automatically, through booting project.\r\n\r\n> <b>Note:</b> In <i>zinux</i> you are <b>not limited</b> to have only <i>one</i> project bootstrap file, you can always\r\nhave multiple project bootstrap file: (But of course i discourage to have multiple project boostrap file, it may cause\r\nconfusion at application level.)\r\n\r\n```PHP    \r\n  $app ->Startup()\r\n       /*\r\n        * 1'st boostrap file\r\n        */\r\n       ->SetBootstrap(new \\application\\appBootstrap)\r\n       /*\r\n        * 2'nd boostrap file\r\n        */\r\n       ->SetBootstrap(new \\application\\anotherAppBootstrap)\r\n       ->Run()\r\n       ->Shutdown();\r\n```\r\n\r\nModules Bootstrap\r\n---\r\n<i>zinux</i> uses bootstrap file(if any exists when loading modules) to bootstrap the modules, \r\nbootstrap files are at following map:\r\n\r\n<pre>\r\n  PROJECT-ROOT\r\n    |_ Modules\r\n        |_ SomeModule\r\n            |_ Controllers\r\n            |_ Models\r\n            |_ Views\r\n            |_ SomeBootstrap.php *(your module bootstrap)\r\n\r\n        |_ DefaultModule\r\n            |_ Controllers\r\n            |_ Models\r\n            |_ Views\r\n            |_ DefaultBootstrap.php *(your module bootstrap)\r\n                \r\n    |_ zinux (the library)\r\n    |_ public_html\r\n    |_ *\r\n    .\r\n    .\r\n    .\r\n</pre>\r\n\r\nIn bootstrap file which is a class file there are 2 kind of methods <b>Predispatch</b> and <b>Postdispatch</b>:\r\n<dl>\r\n   <dt>Predispatch</dt>\r\n   <dd>\r\n      Runs before dispatching to action method!\r\n      good for operations like detecting language \r\n      or checking if user is logged in or not\r\n   </dd>\r\n   <dt>Postdispatch</dt>\r\n   <dd>\r\n      Runs after dispatching to action method!\r\n      good do some data clean up or some other things\r\n   </dd>\r\n</dl>\r\n\r\n> <b>Note:</b> <i>zinux</i> does not allow multiple boostrap file for boostraping modules.  \r\n\r\nModule Bootstrap Example\r\n---\r\n```PHP\r\n<?php\r\n\r\n    namespace modules\\defaultModule;\r\n\r\n    class defaultBootstrap\r\n    {\r\n\r\n      # Predispatch method #1\r\n      public function PRE_echo(\\zinux\\kernel\\routing\\request $request)\r\n      {\r\n        echo \"I am predispatch #1<br />\";\r\n        \r\n        echo \"<div style='color:darkred'>\";\r\n        echo \"<br />You have requested:\";\r\n        echo \"<br />Module : \".$request->module->full_name;\r\n        echo \"<br />Controller : \".$request->controller->full_name;\r\n        echo \"<br />Action : \".$request->action->full_name;\r\n        echo \"<br />View : \".$request->view->full_name;\r\n        echo \"</div>\";\r\n      }\r\n\r\n      # Predispatch method #2\r\n      public function PRE_echo1(\\zinux\\kernel\\routing\\request $request)\r\n      {\r\n          echo \"I am predispatch #2<br />\";\r\n      }\r\n      \r\n      # Postdispatch method #1\r\n      public function POST_echo(\\zinux\\kernel\\routing\\request $request)\r\n      {\r\n          echo \"I am postdispatch #1<br />\";\r\n      }\r\n\r\n      # Postdispatch method #2\r\n      public function POST_echo1(\\zinux\\kernel\\routing\\request $request)\r\n      {\r\n          echo \"I am postdispatch #2<br />\";\r\n      }\r\n\r\n      # This function would never gets called beacause \r\n      # It does not have 'pre_' OR 'post_' naming prefix\r\n      public function FooFunc()\r\n      {\r\n          echo __METHOD__.\" will never get invoked...\";\r\n      }\r\n    }\r\n```\r\n\r\n\r\nWorking With MVC Entities (Basics)\r\n==\r\n\r\nPassing Variables To View\r\n--\r\nVaribales can passed to view in <b>Controllers</b> via following codes\r\n\r\n```PHP\r\n   # in our controller we path varibales like this\r\n   $this->view->passed_from_controller = $some_value;\r\n   \r\n   # in our view we access variable like this\r\n   echo $this->passed_from_controller;\r\n```\r\n\r\n\r\nPassing Variables To Layout\r\n--\r\nVaribales can passed to view in <b>Controllers</b> and <b>Views</b> via following codes\r\n\r\n```PHP\r\n   # in our controller OR view we path varibales like this\r\n   $this->layout->passed_from_controller_or_view = $some_value;\r\n   \r\n   # in our layout we access variable like this\r\n   echo $this->passed_from_controller_or_view;\r\n```\r\n\r\n\r\n\r\nChanging View\r\n---\r\nView can change in <b>Controllers</b> via following codes\r\n\r\n```PHP\r\n  # Assume that we have Layout named 'LoginView'(case-insensitve) under current module/controller\r\n  \r\n  # following code will change current view to 'LoginView'\r\n  $this->view->SetView(\"Login\"); \r\n  \r\n  # disable view(i.e loading no view only view)\r\n  $this->view->SuppressView();\r\n```\r\n\r\n\r\nChanging Layout\r\n---\r\nLayout can change in <b>Controllers</b> and <b>Views</b> via following codes\r\n\r\n```PHP\r\n  # Assume that we have Layout named 'CoolLayout'(case-insensitve) under current module\r\n  \r\n  # following code will change current layout to 'CoolLayout'\r\n  $this->layout->SetLayout(\"COOL\"); \r\n  \r\n  # disable any layouting(i.e loading no layout only view)\r\n  $this->layout->SuppressLayout();\r\n```\r\n\r\n\r\nLoading Models\r\n---\r\nWhen creating models' instances the <i>zinux</i>'s autoloader will load models.<br />\r\nNo need for `require` for models!\r\n\r\n\r\nLoading Helpers\r\n---\r\nHelper can load at <b>Anywhere</b> if demanded helper is a class file just create object of that class the <i>zinux</i>'s autoloader do the rest! but if they are function files they should load via\r\nfollowing code\r\n\r\n```PHP\r\n  # Assume that we have Helper file named 'fOoModel.php'(case-insensitve) under current module\r\n\r\n  # loades fOoModel.php which is under current module ($this->request->module)\r\n  # the exact use of this code is valid in\r\n  #   {Contoller}\r\n  #   {Model}\r\n  #   {View}\r\n  #   {Layout}\r\n  \r\n  new \\zinux\\kernel\\mvc\\helper(\"foo\", $this->request->module);\r\n  \r\n  # now we can use functions in 'fOoHelper.php' file\r\n  some_Function_In_fOo('Hello, world')\r\n```\r\n\r\n\r\nA Controller Example\r\n--\r\n> In this example we will have a demonstration of what we talked about above\r\n\r\nLets assume that we have a hypothetical controller under `SomeModule` define in \r\n[directory structure](#directory-structure) Here is a controller example <i>(pay attention to namespace and\r\nrelative controller path)</i>.\r\n\r\n```PHP\r\n<?php\r\n    # this controller locates at  \r\n    # PROJECT-ROOT/Modules/SomeModule/Controllers/FooController.php\r\n    namespace \\Modules\\SomeController\\Controllers;\r\n    \r\n    /**\r\n     *\r\n     * Remember that files pathes are not case sensitive\r\n     *\r\n     */\r\n    \r\n    class FooController extends \\zinux\\kernel\\controller\\baseController\r\n    {\r\n       public function Initiate()\r\n       {\r\n         /**\r\n          * Do your init stuffs here\r\n          * This method will get called \r\n          * just before invoking actions\r\n          */\r\n       }\r\n       \r\n       /**\r\n        * Url map to this controller : \r\n        *   \r\n        *  /some/foo/some/var?or=GET\r\n        *\r\n        *  |OR| \r\n        *  \r\n        *  /some/foo/index/some/var?or=GET\r\n        */\r\n       public function IndexAction()\r\n       {\r\n         # lets see that is the request's params are \r\n         \\zinux\\kernel\\utilities\\debug::_var($this->request->params);\r\n         /**\r\n          * output:\r\n          *\r\n          * Array\r\n          * (\r\n          *     [some] => var\r\n          *     [or] => GET\r\n          * )\r\n          *\r\n          */\r\n       }\r\n       \r\n       /**\r\n        * Url map to this controller : \r\n        *   \r\n        *  /some/foo/feed\r\n        */\r\n       public function FeedAction()\r\n       {\r\n         # let assume that we have some data \r\n         $data = some_data_generator();\r\n         \r\n         # if the 'json' format is requested\r\n         # i.e the uri is :\r\n         # /some/foo/feed.json\r\n         if($this->request->type == \"json\")\r\n         {\r\n           # we dont want any view or layout here\r\n           $this->view->SuppressView();\r\n           # print out json format of data\r\n           echo json_encode($data);\r\n           return;\r\n         }\r\n         # or if the 'raw' format is requested\r\n         # i.e the uri is :\r\n         # /some/foo/feed.json\r\n         elseif($this->request->type == \"raw\")\r\n         {\r\n           # we dont want any view or layout here\r\n           $this->view->SuppressView();\r\n           # print out the raw format of $data\r\n           \\zinux\\kernel\\utilities\\debug::_var($data);\r\n           return;\r\n         }\r\n         \r\n         # if was not a json request\r\n         # pass data to view\r\n         $this->view->some_data = $data;\r\n         \r\n         # set layout to feedLayout\r\n         $this->layout->SetLayout(\"feed\");\r\n       }\r\n       \r\n       /**\r\n        * Url map to this controller : \r\n        *   \r\n        *  /some/foo/modeluse\r\n        */\r\n       public function ModelUseAction()\r\n       {\r\n         /**\r\n          *\r\n          * In this action are trying to show\r\n          * how to use model and helper\r\n          *\r\n          */\r\n         # Assume that we have a model in following path\r\n         # PROJECT-ROOT/Modules/SomeModule/Models/Xoxo.php\r\n         $o = \\modules\\SomeModule\\Models\\Xoxo();\r\n         # fetch some data from xoxo class\r\n         $this->view->new_data = $o->get_some_data();\r\n         # test data validation\r\n         if($this->view->new_data)\r\n         {\r\n           # Assume that we have a helper in following path\r\n           # PROJECT-ROOT/Modules/SomeModules/Views/Helper/A_helper.php\r\n           new \\zinux\\kernel\\mvc\\helper(\"a_helper\", $this->request->module);\r\n           # in A_helper.php we have bellow function\r\n           $this->view->proc_data = proccess_data($this->view->new_data);\r\n           # change the view \r\n           $this->view->SetView(\"ValidData\");\r\n         }\r\n         else\r\n         {\r\n            throw new \\zinux\\kernel\\exceptions\\notFoundException(\"data not found!\");\r\n         }\r\n       }\r\n    }\r\n    \r\n```\r\n\r\n> At above demo all basic operations are demonstrated. \r\nso if you catchup with the above codes you are 100% ready to use <b>zinux</b> library.<br />\r\n<b>Cheers!</b>\r\n\r\nAdavnced\r\n==\r\nAs i mentioned before, the porpuse of <i>zinux</i> is convention over configuration, and the most challenging \r\ntopics in developing any applications are <b>Project Configuration</b> and <b>Databse Integration</b>.<br />\r\n<i>zinux</i> provides a very simple and flexible manner in other to bind a configuration file and database initializer.<br />\r\n<b>These are optional</b>.\r\n\r\nCustom Routing\r\n--\r\nSome times in developing its good to have URL name convention, i.e for editing notes instead of linking `/note/edit/123`\r\nyou can link `/note/123/edit` this cause a naming unifying at URI level, i.e cou can also have `/note/123/delete` and ... \r\nwhich is much pretty and user-friendly than `/note/edit/123` and also `/note/delete/123`.<br />\r\n<i>Zinux</i> made it very simple to have such custom routing maps, to doing so you have to have <b>some classes</b>\r\n(<i>zinux</i> supports multiple routing class, but having multiple routing classes are discouraged for sake of clean project.)\r\nwhich inherit from `\\zinux\\kernel\\routing\\routerBootstrap`, you can put your routers any where under <b>PROJECT-ROOT</b>\r\ndirectory, <b>i suggest</b> put it under <b>PROJECT-ROOT/application</b> nearby your [application  boostrap](#application-bootstraps) files, \r\nthere is an example:\r\n\r\n```PHP\r\n<?php\r\n\t# PROJECT-ROOT/application/someRoutes.php\r\n\tnamespace application;\r\n\t/**\r\n\t * This is a class to add custom-routes to route maps\r\n\t */\r\n\tclass someRoutes extends \\zinux\\kernel\\routing\\routerBootstrap\r\n\t{\r\n\t    public function Fetch()\r\n\t    {\r\n\t        /**\r\n\t         * Route Example For This:\r\n\t         *      /note/1234/edit/what/so/ever?nonsences=passed => /note/edit/1234/what/so/ever?nonsences=passed \r\n\t         */\r\n\t        $this->addRoute(\"/note/$1/edit$2\", \"/note/edit/$1$2\");\r\n\t    }\r\n\t}\r\n```\r\n<b>How does it works?</b><br />\r\nIn `someRoutes` class in <b>any function</b> called from `someRoutes::Fetch()` by adding a route `$this->addRoute()`\r\nyou can define custom made routes.\r\n\r\n> <b>Note:</b> The `$1`,`$2` markers provide order in uri parts.  \r\n\r\nHow To Register Routers\r\n--\r\nIt is simple! By overwriting the index file introduced in [How To Use](#how-to-use) as follow:\r\n\r\n```PHP\r\n<?php    \r\n    # PROJECT-ROOT/public_html/index.php\r\n    \r\n    defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"DEVELOPMENT\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"PRODUCTION\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"TEST\");\r\n    \r\n    require_once '../zinux/baseZinux.php';\r\n    \r\n    $app = new \\zinux\\kernel\\application\\application(\"PROJECT-ROOT/mOdUlEs\");\r\n    \r\n    $app \r\n    \t/*\r\n        * This part is added to previous\r\n        * version of index.php\r\n        */\r\n        ->SetRouterBootstrap(new \\application\\someRoutes)\r\n    \t->Startup()\r\n    \t->Run()\r\n        ->Shutdown();\r\n```\r\n\r\nBinding Custom Configuration File to Application\r\n---\r\nWhen creating `\\zinux\\kernel\\application\\application` instance in `PROJECT-ROOT/public_html/index.php` file\r\nyou can pass a instance of `\\zinux\\kernel\\application\\baseConfigLoader` to <b>Startup()</b>.<br />\r\nand somewhere in your module you define a class which <b>extents</b> the abstract class \r\n`\\zinux\\kernel\\application\\baseConfigLoader` which would be resposible for to load configurations for your application.\r\nIt can be a ini loader or XML loader, etc. \r\n\r\n<b>Usage example:</b><br />\r\n<hr />\r\nLets suppose that we have a class named <b>\\vendor\\tools\\iniParser</b> which is responsible for \r\nloading configurations from an ini file for your project.\r\n\r\n> <b>Note:</b> The <i>zinux</i> has its own ini parser you can use it, or define your config handler, your call.\r\n\r\nBy overwriting the index file introduced in [How To Use](#how-to-use) as follow:\r\n\r\n```PHP\r\n<?php    \r\n    # PROJECT-ROOT/public_html/index.php\r\n    \r\n    defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"DEVELOPMENT\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"PRODUCTION\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"TEST\");\r\n    \r\n    require_once '../zinux/baseZinux.php';\r\n    \r\n    $app = new \\zinux\\kernel\\application\\application(\"PROJECT-ROOT/mOdUlEs\");\r\n    \r\n    $app \r\n    \t/*\r\n        * This part is added to previous\r\n        * version of index.php\r\n        */\r\n    \t# Note that this registration is OPTIONAL\r\n    \t# you don't come up with any cache directory \r\n    \t# the zinux will pick /tmp/zinux-cache as its cache directory\r\n    \t->SetCacheDirectory(\"/path/to/cache/dir\")\r\n    \t# setting Config iniliazer\r\n    \t->SetConfigIniliazer(new \\zinux\\kernel\\utilities\\iniParser(\"/path/to/config/file\", RUNNING_ENV))\r\n    \t->Startup()\r\n    \t->Run()\r\n        ->Shutdown();\r\n```\r\n\r\n<b>Accessing fetched configs</b><br />\r\n<hr />\r\nNow that we have loaded our configurations we can now get access to all loaded configurations from any we in your\r\nproject via `\\zinux\\kernel\\config\\config` class!\r\n<b>Example:</b><br />\r\n\r\n```PHP\r\n  # Assume that in out ini file we have following lines\r\n  /*\r\n   * config.db.host = localhost\r\n   * config.db.username = USERNAME\r\n   * config.db.password = PASSWORD\r\n   * config.db.dbname = DB_NAME\r\n   */\r\n   \r\n  \r\n  # output: localhost\r\n  echo \\zinux\\kernel\\application\\config::GetConfig(\"config\", \"db\", \"host\");\r\n  \r\n  # output: USERNAME\r\n  echo \\zinux\\kernel\\application\\config::GetConfig(\"config\", \"db\", \"username\");\r\n  \r\n  # output: PASSWORD\r\n  echo \\zinux\\kernel\\application\\config::GetConfig(\"config\", \"db\", \"password\");\r\n  \r\n  # output: DB_NAME\r\n  echo \\zinux\\kernel\\application\\config::GetConfig(\"config\", \"db\", \"dbname\");\r\n```\r\n\r\n> Easy enough, Na!?\r\n\r\n\r\n\r\nBinding Database Handler To Application\r\n---\r\nWhen creating `\\zinux\\kernel\\application\\application` instance in `PROJECT-ROOT/public_html/index.php` file\r\nyou can pass a instance of `\\zinux\\kernel\\application\\dbInitializer` as a secondary argument to <b>constructor</b>.<br />\r\nand somewhere in your module you define a class which <b>extents</b> the abstract class \r\n`\\zinux\\kernel\\application\\dbInitializer` which would be resposible for configuring database for your application\r\n\r\n<b>Usage example:</b><br />\r\n<hr />\r\nLets suppose that we have a class named <b>\\vendor\\db\\ActiveRecord\\initializer</b> which is responsible for initializing\r\n[PHP ActiveRecord](#http://www.phpactiverecord.org/) for your project.\r\n\r\n```PHP\r\n<?php\r\n  # file : PROJECT-ROOT/vendor/db/ActiveRecord/initializer.php\r\n  \r\n  namespace vendor\\db\\ActiveRecord;\r\n  \r\n  # Where PHPActive-record lib. is stored \r\n  # location:  PROJECT-ROOT/vendor/db/ActiveRecord/vendor\r\n  require_once 'vendor/ActiveRecord.php';\r\n  \r\n  /**\r\n   * php-activerecord initializer\r\n   * @author dariush\r\n   * @version 1.0\r\n   */\r\n  class initializer extends \\zinux\\kernel\\application\\dbInitializer\r\n  {\r\n      public function Execute($request)\r\n      {\r\n        ActiveRecord\\Config::initialize(function($cfg) use ($request)\r\n        {\r\n            $cfg->set_model_directory('models');\r\n            $cfg->set_connections(array(\r\n                'development' => 'mysql://username:password@localhost/database_name'));\r\n        });\r\n      }\r\n  }\r\n```\r\n\r\nBy overwriting the index file introduced in [How To Use](#how-to-use) as follow:\r\n```php\r\n<?php    \r\n    # PROJECT-ROOT/public_html/index.php\r\n    \r\n    defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"DEVELOPMENT\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"PRODUCTION\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"TEST\");\r\n    \r\n    require_once '../zinux/baseZinux.php';\r\n    \r\n    $app = new \\zinux\\kernel\\application\\application(\"PROJECT-ROOT/mOdUlEs\");\r\n    \r\n    $app\r\n    \t/*\r\n        * This part is added to previous\r\n        * version of index.php\r\n        */\r\n    \t->SetDBInitializer(new \\vendor\\db\\ActiveRecord\\initializer())\r\n    \t->Startup()\r\n    \t->Run()\r\n        ->Shutdown();\r\n         \r\n```\r\n\r\nYour application is configured to use [PHP ActiveRecord](#http://www.phpactiverecord.org/) as database handler and\r\nyou can use <b>PHP ActiveRecord</b> framework freely through your project.<br />\r\n\r\n> Still Easy, mate!?\r\n\r\n\r\n\r\nAdding Plugins\r\n---\r\nAdd plugins is so simple in <i>zinux</i> you just add the plugin in where \r\never you want under <b>PROJECT-ROOT</b> and start using it with out any registration or configuration!!!<br />\r\n<b>What!?!?!</b> Yup, you got it right! but make sure your have followed\r\n[PSR-0 Standard](http://www.sitepoint.com/autoloading-and-the-psr-0-standard/) discussed in \r\n[Autoloading Classes And Files](#autoloading-classes-and-files) in your plugins.\r\n\r\n> Actually the <i>zinux</i> looks the entire project as pluging by itself!!\r\n\r\n```PHP\r\n    /**\r\n     *\r\n     * in 'zinux/baseZinux.php' you will see the zinux\r\n     * introduces the project's root directory as a plugin\r\n     * to itself since the registerPlugin() considers plugins\r\n     * under PROJECT-ROOT directory by passing no plugin directory\r\n     * it will add the PROJECT-ROOT as a plugin!\r\n     *\r\n     */\r\n    # require plugin file\r\n    require_once 'kernel/application/plugin.php';\r\n    # initiate a new plugin \r\n    $plugin = new kernel\\application\\plugin();\r\n    # treat current project as a plugin\r\n    $plugin->registerPlugin(\"PROJECT_ROOT\");\r\n```\r\n\r\n> Simple, Ha!?<br />\r\n\r\n<b>Note:</b> In case of using <b>third-party</b> libraries you may encounter with one of two situations bellow :<br />\r\n\r\n<b>Situation #1</b>\r\n<hr />\r\nIn case of using <b>third-party</b> libraries which <b>has applied its own [PSR-0 Standard](http://www.sitepoint.com/autoloading-and-the-psr-0-standard/)</b>\r\nyou can introduce its <b>root directory</b> to <i>zinux</i> like bellow.\r\n\r\nBy overwriting the index file introduced in [How To Use](#how-to-use) as follow:\r\n\r\n```php\r\n<?php    \r\n    # PROJECT-ROOT/public_html/index.php\r\n    \r\n    defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"DEVELOPMENT\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"PRODUCTION\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"TEST\");\r\n    \r\n    require_once '../zinux/baseZinux.php'\r\n    \r\n    $app = new \\zinux\\kernel\\application\\application(\"PROJECT-ROOT/mOdUlEs\");\r\n    \r\n    \r\n    $app\r\n    \t/*\r\n\t     *\r\n\t     * introducing two 'sundries' and 'FooPlug' plugin to zinux\r\n\t     *\r\n\t     */\r\n\t    #  'sundries' plugin is under \"Some/Where/Under/PROJECT-ROOT/sundires\" directory\r\n    \t->registerPlugin(\"sundries\", \"Some/Where/Under/PROJECT-ROOT/sundires\")\r\n\t \t# 'FooPlug' plugin is under \"Some/Where/Under/PROJECT-ROOT/FooPlug\" directory\r\n    \t->registerPlugin(\"FooPlug\", \"Some/Where/Under/PROJECT-ROOT/FooPlug\")\r\n    \t\r\n    \t->Startup()\r\n        ->Run()\r\n        ->Shutdown();\r\n         \r\n```\r\n> <b>Note:</b> If the <b>third-party</b> does not follow [PSR-0 Standard](http://www.sitepoint.com/autoloading-and-the-psr-0-standard/)\r\nyou have to apply the <b>Situation #2</b> bellow. actually both are the same, but in <b>Situation #1</b>\r\nthe <i>zinux</i> does the <b>autoloading</b> for you, in <b>Situation #2</b> you have to define your own <b>autoloader</b>\r\nwhich most <b>third-party</b> libraries do it, you just have to call it. see bellow.\r\n\r\n<b>Situation #2</b>\r\n<hr />\r\nIn case of using <b>third-party</b> libraries <b>has not applied [PSR-0 Standard](http://www.sitepoint.com/autoloading-and-the-psr-0-standard/)</b>\r\nand also which is hard to apply [PSR-0 Standard](http://www.sitepoint.com/autoloading-and-the-psr-0-standard/)\r\nto it, following <b>Tip</b> may become usefull!\r\n\r\n> <b>Tip:</b> If you are using and <b>third-party plugin</b>, you <b>don't need</b> to standardize \r\n<b>entire plugin</b> with <b><i>PSR-0 Standard</i></b> (notice that we <b>didn't change</b> any\r\n<b>PHP-ActiveRecord</b> namespaces in [Binding Database Handler To Application](#binding-database-handler-to-application)!!)<br />\r\nYou just create a <b>initializer class</b> in that plugin which <b>define a autoloader</b> for that pluging!\r\nIn [Binding Database Handler To Application](#binding-database-handler-to-application) example the autoloader \r\nis defined in : \r\n\r\n```PHP\r\n\r\n  # Where PHPActive-record lib. is stored \r\n  # location:  PROJECT-ROOT/vendor/db/ActiveRecord/vendor\r\n  require_once 'vendor/ActiveRecord.php';\r\n  \r\n```\r\n> Then you call the plugin autoloader <b>just before</b> making application run! i.e \r\nby overwriting the index file introduced in [How To Use](#how-to-use) as follow:\r\n\r\n```php\r\n<?php    \r\n    # PROJECT-ROOT/public_html/index.php\r\n    \r\n    defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"DEVELOPMENT\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"PRODUCTION\");\r\n    # defined(\"RUNNING_ENV\") || define(\"RUNNING_ENV\", \"TEST\");\r\n    \r\n    require_once '../zinux/baseZinux.php'\r\n    \r\n    $app = new \\zinux\\kernel\\application\\application(\"PROJECT-ROOT/mOdUlEs\");\r\n    \r\n    /**\r\n     *\r\n     * Call the pluging initliazer here!\r\n     *\r\n     */\r\n    # Lets assume that we have third-party library and we wish to use it\r\n    # And also we have a class `\\Some\\Where\\In\\Project\\FOO_PLUGIN_INITIALIZER`\r\n    # Just do class the `\\Some\\Where\\In\\Project\\FOO_PLUGIN_INITIALIZER` here!\r\n    $plugin_init = \\Some\\Where\\In\\Project\\FOO_PLUGIN_INITIALIZER();\r\n    $plugin_init->A_Func_To_Add_Plugins_Autoloader()\r\n    \r\n    \r\n    $app ->Startup()\r\n         ->Run()\r\n         ->Shutdown();\r\n         \r\n```\r\n\r\nTips\r\n===\r\n\r\nRequest Types\r\n--\r\nThe <i>zinux</i> supports request types i.e you can have a URI like `/news/feed.json` which points to <b>NewsController</b> \r\nand <b>FeedAction</b> you can ouput feeds according to request type (in here `json`) in <b>NewsController::FeedAction()</b>! default is `html`. \r\n\r\n\r\nDemo Project\r\n===\r\nYou can download a demo project from [zinux-demo](https://github.com/dariushha/zinux-demo).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","google":"UA-44064575-1","note":"Don't delete this file! It's used internally to help with page regeneration."}